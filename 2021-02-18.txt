신용카드 거래 데이터 시각화


변수는 총 8개이고, 관측치는 330만개

store_id :각 파일에서의 상점 고유 번호.
date : 거래 일자
time :거래 시간
card_id :카드 번호의 hash 값
amount :매출액
installments : 할부개월수. 일시불은 빈 문자열
days_of_week : 요일, 월요일이 0, 일요일은 6
holiday : 1이면 공휴일, 0이면 공휴일이 아님


데이터는 크게 3가지로 구분되어 짐. 
시간, 식별화 코드, 매출

시간 : date, time, days_of_week, holiday
식별화 코드 : store_id, card_id
매출 : amount, installments
ㅡ> 참고 : 변수명 중에 holyday는 holiday가 오타난것 같음


아이디어

row 1을 보면 amount가 음수인게 있는데 이는 취소된 거래를 말하는 것임. 
바로 위 row 0의 거래가 23초만에 취소되었다는것을 의미.
date와 time의 경우 좀 더 구분의 편의를 위해서 년도/월/일/시간/분으로 변수를 확장 함.
days_of_week도 월~금, 토 ~ 일요일인지 여부를 나누어서 비교.
installments에 보면 결측치가 있는데, 이는 일시불을 의미하는것이므로 1으로 처리.


2018년도 5월까지는 상승곡선을 보이지만 그 이후로는 하강곡선을 보이고 있음.
중간중간 거래건수가 확 떨어지는 날이 있음. 2016-09-15, 2017-01 28, 2017-10-04, 2018-02-16, 2018-05-06일.
가설1 : 휴일이여서 거래건수가 확 떨어졌을 것이다.


점심, 저녁시간에 카드 사용자 급증
16시-18시 -> 대체적으로 중고등학생 하교 시간과 가정주부들이 장보러 가는 시간에 맞춰 사용자수 증가추세
새벽시간대 amount의 합이 다른 시간대에 비해 가장 컸던 것과 달리 사용자수는 매우 적음



단골고객 정의
업종별로 어떤 프로모션 사용할 수 있는지
pca 등으로 새로운 컬럼 창출

데이터 정리
주제확정
어떻게 정의를 할 것이고
간단한 eda


1. 주제정하기
- 품목별 특징 찾기
- 단골정의하기

2. 데이터 수집 / 정리
- 데이터 정의하기

3. 간단한 EDA 진행



*단골
1. 재방문
2. 횟수(몇회이상?)
3. 기간(얼마동안?)

*추가하고싶은 컬럼
1. 요일(월-일)
2. 공휴일(+이벤트:월드컵,발렌타인데이 등)
3. 결제건수
4. 시간별?(00-06시 등)
5. 매출액/결제건수

*비교분석
소비자심리지수
기업경기실사지수
월별 일평균 이동량
생산지수
가구중위소비
기준 중위소득 추이
경기종합지수
가계신용 동향


1. 날짜데이터 분리
   : 년,월,일,시
     주말과 주중, 휴일과 businessday 
     계절
2. region 분리하기(행정구역별)
:서울, 부산, 대구, 인천, 광주, 대전, 울산, 경기, 강원, 충북, 충남, 전북, 전남, 경북, 경남, 세종, 제주


3. 분리한 컬럼들 각각 count하기
4. region과 business type 그룹별 count하기

5. 할부개월별 count해보기(포인트사용실적확인)
6. 카드 고유번호 groupby
7. 환불관련 확인(매출+환불이 마이너스인 데이터 확인 후 제거)



서울,부산, 대구, 인천, 광주,대전, 울산,경기, 강원, 충북, 충남, 전북, 전남, 경북, 경남,세종,제주


